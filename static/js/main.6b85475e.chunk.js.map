{"version":3,"sources":["icons sync /.svg$","icons/label.svg","icons/left.svg","icons/money.svg","icons/right.svg","icons/sta.svg","components/Icon.tsx","components/Nav.tsx","components/Layout.tsx","lib/createId.tsx","hooks/useUpdate.tsx","hooks/useTags.tsx","components/Money/TagsSection.tsx","components/Input.tsx","components/Money/NoteSection.tsx","components/Money/CategorySection.tsx","components/Money/NumberPadSection/Wrapper.tsx","components/Money/NumberSection.tsx","components/Money/NumberPadSection/computerOutput.tsx","hooks/useRecords.tsx","views/Money.tsx","views/Statistics.tsx","components/Button.tsx","views/Tags.tsx","views/NoMatch.tsx","views/TagEdit.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","symbol","add","requireContext","require","forEach","error","console","log","Icon","props","name","children","className","rest","cs","xlinkHref","NavWrapper","styled","nav","Nav","to","activeClassName","Wrapper","div","Main","Layout","mainRef","useRef","useEffect","setTimeout","current","scrollTop","ref","defaultProps","parseInt","window","localStorage","getItem","createId","setItem","toString","useUpdate","fn","dependency","count","useTags","useState","tags","setTags","localTags","JSON","parse","length","stringify","getName","tag","filter","t","addTag","TagName","prompt","findTag","findTagIndex","result","i","updateTag","obj","deleteTag","history","back","section","TagsSection","selectedTagIds","value","key","onClick","tagId","indexOf","onChange","Label","label","Input","NoteSection","note","placeholder","target","CategorySection","category","categoryList","categoryMap","c","NumberPadSection","output","_setOutput","text","textContent","onOK","split","concat","newOutput","slice","parseFloat","setOutput","computerOutput","useRecords","records","setRecords","addRecord","newRecord","amount","alert","tagIds","record","createdAt","Date","toISOString","CategoryWrapper","MyLayout","defaultFormData","Money","selected","setSelected","Item","Header","h3","Statistics","setCategory","hash","r","day","format","push","array","entries","sort","a","b","date","reduce","span","index","Button","button","TagList","ol","Center","Tags","NoMatch","header","InputWrapper","TagEdit","idString","useParams","useHistory","goBack","type","tagContent","App","exact","path","from","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6b85475e.chunk.js","sourcesContent":["var map = {\n\t\"./label.svg\": 39,\n\t\"./left.svg\": 40,\n\t\"./money.svg\": 41,\n\t\"./right.svg\": 42,\n\t\"./sta.svg\": 43\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 38;","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"label\",\n  \"use\": \"label-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"label\\\"><defs><style></style></defs><path d=\\\"M960.877 95.386c-1.403-18.235-15.43-32.263-33.666-33.665L521.819 42.082c-9.819 0-19.638 2.806-26.652 9.82L29.457 519.013c-7.013 7.013-9.819 15.43-9.819 25.249s4.209 18.236 9.82 25.25L458.696 998.75c7.014 7.013 15.43 9.819 25.25 9.819s18.235-2.806 25.249-9.82l465.71-465.709c7.013-7.014 11.221-16.833 9.818-26.652L960.877 95.386zM482.542 923.003l-378.74-378.74 429.24-432.044 359.1 18.236 19.639 361.907-429.239 430.64z\\\" /><path d=\\\"M575.123 283.353c-47.693 47.694-47.693 123.442 0 171.135 22.444 22.444 53.304 35.068 85.567 35.068s63.124-12.624 85.568-35.068c22.443-22.444 35.068-53.304 35.068-85.567s-12.625-63.124-35.068-85.568c-46.29-46.29-123.442-46.29-171.135 0zm122.039 122.039c-19.639 19.638-53.304 19.638-71.54 0-19.638-19.639-19.638-51.902 0-71.54 9.82-9.82 22.444-15.43 36.471-15.43 12.625 0 26.652 5.61 36.471 15.43 9.82 9.82 15.43 22.444 15.43 36.471s-7.013 25.25-16.832 35.069z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"left\",\n  \"use\": \"left-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"left\\\"><defs><style></style></defs><path d=\\\"M585.415 285.868c-14.946-15.375-39.2-15.375-54.179 0l-192.6 198.25c-14.938 15.404-14.938 40.375 0 55.747l192.6 198.245c14.98 15.404 39.233 15.404 54.18 0 14.97-15.38 14.97-40.346 0-55.75L419.894 511.994l165.521-170.347c14.971-15.404 14.971-40.37 0-55.78zm0 0\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"money\",\n  \"use\": \"money-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"money\\\"><defs><style></style></defs><path d=\\\"M463.3 958.3V772.1H228.8v-77.5h234.5v-80.5H228.8v-83.5H420L191.5 128h113.7L469 420.6c18.2 33.4 32.4 62.4 42.7 86.9 9-19.8 24.6-50.5 46.8-92.1L713.9 128h120.8L605.5 530.6h192.9v83.5H564.9v80.5h233.5v77.5H564.9v186.2H463.3z\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"right\",\n  \"use\": \"right-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"right\\\"><defs><style></style></defs><path d=\\\"M438.585 738.132c14.946 15.375 39.2 15.375 54.179 0l192.6-198.25c14.938-15.404 14.938-40.375 0-55.747l-192.6-198.245c-14.98-15.404-39.233-15.404-54.18 0-14.97 15.38-14.97 40.346 0 55.75l165.522 170.366-165.521 170.347c-14.971 15.404-14.971 40.37 0 55.78zm0 0\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import SpriteSymbol from \"../../node_modules/svg-baker-runtime/browser-symbol.js\";\nimport sprite from \"../../node_modules/svg-sprite-loader/runtime/browser-sprite.build.js\";\nvar symbol = new SpriteSymbol({\n  \"id\": \"sta\",\n  \"use\": \"sta-usage\",\n  \"viewBox\": \"0 0 1024 1024\",\n  \"content\": \"<symbol class=\\\"icon\\\" viewBox=\\\"0 0 1024 1024\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" id=\\\"sta\\\"><defs><style></style></defs><path d=\\\"M331.84 793.485V387.45c0-16.192-12.457-28.645-27.4-28.645h-82.205c-14.942 0-27.4 13.698-27.4 28.645v406.034h137.006zm174.371 0V213.082c0-16.193-12.454-29.895-27.401-29.895h-82.206c-14.942 0-27.4 13.702-27.4 29.895v580.403h137.007zm174.37 0V536.91c0-16.191-12.454-29.89-27.4-29.89H570.98c-14.948 0-27.406 13.699-27.406 29.89v256.575H680.58zm174.368 0V387.45c0-16.192-12.452-28.645-27.4-28.645h-82.2c-14.948 0-27.4 13.698-27.4 28.645v406.034h137zm24.911 37.364\\\" /></symbol>\"\n});\nvar result = sprite.add(symbol);\nexport default symbol","import React from 'react';\r\nimport cs from 'classnames';\r\n\r\n\r\nconst importAll = (requireContext: __WebpackModuleApi.RequireContext) => requireContext.keys().forEach(requireContext);\r\ntry {\r\n  importAll(require.context('icons', true, /\\.svg$/));\r\n} catch (error) {\r\n  console.log(error);\r\n}\r\n\r\ntype  Props = {\r\n  name?: string\r\n} & React.SVGAttributes<SVGElement>\r\n\r\nconst Icon = (props: Props) => {\r\n  const {name, children, className, ...rest} = props;\r\n  return (\r\n    <svg className={cs('icon', className)} {...rest}>\r\n      {props.name && <use xlinkHref={'#' + props.name}/>}\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default Icon;","import styled from 'styled-components';\r\nimport {NavLink} from 'react-router-dom';\r\nimport React from 'react';\r\nimport Icon from './Icon';\r\n\r\nconst NavWrapper = styled.nav`\r\n   line-height: 24px;\r\n   box-shadow: 0 0 3px rgba(0,0,0,.25);\r\n   background:#fff;\r\n   >ul {\r\n    display: flex;\r\n    >li {\r\n    width: 33.333%;\r\n    text-align: center;\r\n    >a {\r\n     display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    padding: 4px 0;\r\n    flex-direction: column;\r\n    \r\n    .icon {\r\n    width: 24px;\r\n    height: 24px;\r\n    }\r\n    &.selected {\r\n     color: #f60;\r\n     .icon {\r\n     fill: #f60;\r\n     }\r\n    }\r\n    }\r\n}\r\n}\r\n`;\r\nconst Nav = () => {\r\n  return (\r\n    <NavWrapper>\r\n      <ul>\r\n        <li>\r\n\r\n          <NavLink to=\"/tags\" activeClassName=\"selected\">\r\n            <Icon name='label'/>\r\n            标签\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n\r\n          <NavLink to=\"/money\" activeClassName=\"selected\">\r\n            <Icon name='money'/>\r\n            记账\r\n          </NavLink>\r\n        </li>\r\n        <li>\r\n\r\n          <NavLink to=\"/statistics\" activeClassName=\"selected\">\r\n            <Icon name='sta'/>\r\n            统计\r\n          </NavLink>\r\n        </li>\r\n      </ul>\r\n    </NavWrapper>\r\n  );\r\n};\r\n\r\nexport default Nav;","import Nav from './Nav';\r\nimport React, {useEffect, useRef} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Wrapper = styled.div`\r\n   height: 100vh;\r\n   display: flex;\r\n   flex-direction: column;\r\n`;\r\nconst Main = styled.div`\r\n   flex-grow: 1;\r\n   overflow: auto;\r\n`;\r\ntype Props = {\r\n  className?: string\r\n  scrollTop?: number\r\n}\r\nconst Layout: React.FC<Props> = (props) => {\r\n  const mainRef = useRef<HTMLDivElement>(null);\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (!mainRef.current) {return;}\r\n      mainRef.current.scrollTop = props.scrollTop!;\r\n    }, 0);\r\n  }, [props.scrollTop]);\r\n  return (\r\n    <Wrapper>\r\n      <Main ref={mainRef} className={props.className}>\r\n        {props.children}\r\n      </Main>\r\n      <Nav/>\r\n    </Wrapper>\r\n  );\r\n};\r\nLayout.defaultProps = {\r\n  scrollTop: 0\r\n};\r\nexport default Layout;","let id = parseInt(window.localStorage.getItem('idMax') || '0');\r\nconst createId = () => {\r\n  id += 1;\r\n  window.localStorage.setItem('idMax', id.toString());\r\n  return id;\r\n};\r\nexport {createId};","import {useEffect, useRef} from 'react';\r\n\r\nexport const useUpdate = (fn: () => void, dependency: any[]) => {\r\n  const count = useRef(0);\r\n  useEffect(() => {\r\n    count.current += 1;\r\n  });\r\n  useEffect(() => {\r\n    if (count.current > 1) {\r\n      fn();\r\n    }\r\n  }, [fn,dependency]);\r\n};\r\n\r\n","import {useEffect, useState} from 'react';\r\nimport {createId} from '../lib/createId';\r\nimport {useUpdate} from './useUpdate';\r\n\r\nconst useTags = () => {  //封装自定义 Hook\r\n  const [tags, setTags] = useState<{ id: number, name: string }[]>([]);\r\n  useEffect(() => {\r\n    let localTags = JSON.parse(window.localStorage.getItem('tags') || '[]');\r\n    if (localTags.length === 0) {\r\n      localTags = [\r\n        {id: createId(), name: '衣'},\r\n        {id: createId(), name: '食'},\r\n        {id: createId(), name: '住'},\r\n        {id: createId(), name: '行'},\r\n        {id: createId(), name: '其他'}\r\n      ];\r\n    }\r\n    setTags(localTags);\r\n  }, []);\r\n  useUpdate(() => {\r\n    window.localStorage.setItem('tags', JSON.stringify(tags));\r\n  }, tags);\r\n  const findTag = (id: number) => tags.filter(tag => tag.id === id)[0];\r\n  const findTagIndex = (id: number) => {\r\n    let result = -1;\r\n    for (let i = 0; i < tags.length; i++) {\r\n      if (tags[i].id === id) {\r\n        result = i;\r\n        break;\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n  const updateTag = (id: number, obj: { name: string }) => {\r\n    setTags(tags.map(tag => tag.id === id ? {id, name: obj.name} : tag));\r\n  };\r\n  const addTag = () => {\r\n    const TagName = window.prompt('新标签的名称为');\r\n    if (TagName !== null && TagName !== '') {\r\n      setTags([...tags, {id: createId(), name: TagName}]);\r\n    }\r\n  };\r\n  const deleteTag = (id: number) => {\r\n    setTags(tags.filter(tag => tag.id !== id));\r\n    window.history.back()\r\n  };\r\n  const getName = (id: number) => {\r\n    const tag = tags.filter(t => t.id === id)[0];\r\n    return tag ? tag.name : '';\r\n  };\r\n  return {tags, getName, addTag, setTags, findTag, findTagIndex, updateTag, deleteTag};\r\n};\r\n\r\nexport {useTags};","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport {useTags} from '../../hooks/useTags';\r\nconst Wrapper = styled.section`\r\n  background:#fff;\r\n  padding: 12px 16px;\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  align-items: flex-start;\r\n  >ol {\r\n    margin: 0 -12px;\r\n    >li {\r\n    background:#d9d9d9;\r\n    border-radius: 18px;\r\n    display: inline-block;\r\n    padding: 3px 18px;\r\n    font-size: 14px;\r\n    margin: 8px 12px;\r\n    &.selected {\r\n      background:#f60;\r\n      color: white;\r\n    }\r\n    }\r\n  }\r\n  > button {\r\n    background:none;\r\n    border: none;\r\n    padding: 2px 4px;\r\n    border-bottom: 1px solid #333;\r\n    color: #666;\r\n    margin-top: 8px;\r\n  }\r\n`;\r\n\r\ntype Props = {\r\n  value: number[]\r\n  onChange: (selected: number[]) => void\r\n}\r\nconst TagsSection: React.FC<Props> = (props) => {\r\n  const {tags, addTag} = useTags();\r\n  const selectedTagIds = props.value;\r\n\r\n  const onToggleTag = (tagId: number) => {\r\n    const index = selectedTagIds.indexOf(tagId);\r\n    if (index >= 0) {\r\n      props.onChange(selectedTagIds.filter(t => t !== tagId));\r\n    } else {\r\n      props.onChange([...selectedTagIds, tagId]);\r\n    }\r\n  };\r\n  return (\r\n    <Wrapper>\r\n      <ol>\r\n        {tags.map(tag => <li key={tag.id} onClick={() => onToggleTag(tag.id)}\r\n                             className={selectedTagIds.indexOf(tag.id) >= 0 ? 'selected' : ''}>{tag.name}</li>)}\r\n      </ol>\r\n      <button onClick={addTag}>新增标签</button>\r\n    </Wrapper>\r\n  );\r\n};\r\nexport {TagsSection};","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst Label = styled.label`\r\n  display: flex;\r\n  align-items: center;\r\n  >span { margin-right: 16px}\r\n  >input {\r\n      flex-grow: 1;\r\n      height: 44px;\r\n      background:none;\r\n      border: none;\r\n    }\r\n`\r\ntype Props = {\r\n  label: string\r\n}& React.InputHTMLAttributes<HTMLInputElement>\r\nconst Input: React.FC<Props>=(props )=> {\r\n  const {label, ...rest} = props\r\n  return(\r\n    <Label>\r\n      <span>{props.label}</span>\r\n      <input {...rest}/>\r\n    </Label>\r\n  )\r\n}\r\n\r\nexport {Input}","import styled from 'styled-components';\r\nimport React, {ChangeEventHandler} from 'react';\r\nimport {Input} from '../Input';\r\n\r\nconst Wrapper = styled.section`\r\n  padding: 14px 16px;\r\n  font-size: 14px;\r\n`\r\ntype Props = {\r\n  value: string\r\n  onChange: (value: string)=> void\r\n}\r\nconst NoteSection: React.FC<Props> = (props)=> {\r\n  const note = props.value\r\n  const onChange: ChangeEventHandler<HTMLInputElement> = (e)=> {\r\n    props.onChange(e.target.value)\r\n  }\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Input label='备注' placeholder='请在这里输入备注'\r\n              onChange={onChange} value={note}/>\r\n    </Wrapper>\r\n  )\r\n}\r\nexport {NoteSection}","import styled from 'styled-components';\nimport React, {useState} from 'react';\n\nconst Wrapper = styled.section`\n  font-size: 24px;\n  >ul {\n    display: flex;\n    >li{\n      width: 50%;\n      text-align: center;\n      padding: 16px 0;\n      position: relative;\n      &.selected::after {\n        content: '';\n        display: block;\n        height: 3px;\n        width: 100%;\n        background:#333;\n        position: absolute;\n        bottom: 0;\n        left: 0;\n      }\n    }\n  }\n`;\ntype Props = {\n  value: '-' | '+'\n  onChange: (value: '-' | '+') => void\n}\nconst CategorySection: React.FC<Props> = (props) => {\n  const category = props.value\n  const [categoryList] = useState<('-' | '+')[]>(['-', '+']);\n  const categoryMap = {\n    '-': '支出',\n    '+': '收入'\n  };\n  return (\n    <Wrapper>\n      <ul>\n        {categoryList.map(c =>\n          <li key={c} className={category === c ? 'selected' : ''}\n              onClick={() => {props.onChange(c);}}\n          >{categoryMap[c]}\n          </li>\n        )}\n      </ul>\n    </Wrapper>\n  );\n};\nexport {CategorySection};","import styled from 'styled-components';\r\n\r\nconst Wrapper = styled.section`\r\n      display: flex;\r\n  flex-direction: column;\r\n  > .output {\r\n    background:#fff;\r\n    font-size: 36px;\r\n    line-height: 72px;\r\n    text-align: right;\r\n    padding: 0 16px;\r\n    box-shadow: 0 -5px 5px -5px rgba(0,0,0,0.25),\r\n                0  5px 5px -5px rgba(0,0,0,0.25);\r\n  }\r\n  > .pad {\r\n\r\n    >button{\r\n      float: left;\r\n      font-size: 18px;\r\n      border: none;\r\n      width: 25%;\r\n      height: 64px;\r\n      &.ok{\r\n        height: 128px;\r\n        float: right;\r\n      }\r\n      &.zero {\r\n        width: 50%;\r\n      }\r\n\r\n\r\n        &:nth-child(1) {\r\n          background: #f2f2f2;\r\n        }\r\n\r\n        &:nth-child(2), &:nth-child(5) {\r\n          background: #e0e0e0\r\n        }\r\n\r\n        &:nth-child(3), &:nth-child(6), &:nth-child(9) {\r\n          background: #d3d3d3\r\n        }\r\n\r\n        &:nth-child(4), &:nth-child(7), &:nth-child(10) {\r\n          background: #c1c1c1\r\n        }\r\n\r\n        &:nth-child(8), &:nth-child(11), &:nth-child(13) {\r\n          background: #b8b8b8\r\n        }\r\n\r\n        &:nth-child(14) {\r\n          background: #a9a9a9\r\n        }\r\n\r\n        &:nth-child(12) {\r\n          background: #9a9a9a\r\n        }\r\n    }\r\n  }\r\n`;\r\n\r\nexport {Wrapper}","import React, {useState} from 'react';\nimport {Wrapper} from './NumberPadSection/Wrapper';\nimport {computerOutput} from './NumberPadSection/computerOutput';\n\n\ntype Props = {\n  value: number\n  onChange: (value: number) => void\n  onOK?: () => void\n}\nconst NumberPadSection: React.FC<Props> = (props) => {\n  const [output,_setOutput] = useState(props.value.toString());\n  const setOutput = (output: string) => {\n    let newOutput: string;\n    if (output.length > 16) {\n      newOutput = output.slice(0, 16);\n    } else if (output.length === 0) {\n      newOutput = '0';\n    } else {\n     newOutput = output;\n    }\n    _setOutput(newOutput)\n    props.onChange(parseFloat(newOutput));\n  };\n  const onClickButtonWrapper = (e: React.MouseEvent) => {\n    const text = (e.target as HTMLButtonElement).textContent;\n    if (text === null) {return;}\n    if (text === 'OK') {\n      if (props.onOK) {props.onOK();_setOutput('0')}\n    }\n    if ('0123456789.'.split('').concat(['删除', '清空']).indexOf(text) >= 0) {\n      setOutput(computerOutput(text, output));\n    }\n  };\n  return (\n    <Wrapper>\n      <div className='output'>{output}</div>\n      <div className='pad clearfix' onClick={onClickButtonWrapper}>\n        <button>1</button>\n        <button>2</button>\n        <button>3</button>\n        <button>删除</button>\n        <button>4</button>\n        <button>5</button>\n        <button>6</button>\n        <button>清空</button>\n        <button>7</button>\n        <button>8</button>\n        <button>9</button>\n        <button className='ok'>OK</button>\n        <button className='zero'>0</button>\n        <button>.</button>\n      </div>\n    </Wrapper>\n  );\n};\nexport {NumberPadSection};","const computerOutput = (text: string, output = '0') => {\r\n  switch (text) {\r\n    case '0' :\r\n    case '1' :\r\n    case '2' :\r\n    case '3' :\r\n    case '4' :\r\n    case '5' :\r\n    case '6' :\r\n    case '7' :\r\n    case '8' :\r\n    case '9' :\r\n      if (output === '0') {\r\n        return text;\r\n      } else {\r\n        return output + text;\r\n      }\r\n    case '.':\r\n      if (output.indexOf('.') >= 0) {return output;}\r\n      return output + '.';\r\n    case '删除':\r\n      if (output.length === 1) {\r\n        return '';\r\n      } else {\r\n        return output.slice(0, -1) || '';\r\n      }\r\n    case '清空':\r\n      return '';\r\n    default:\r\n      return '';\r\n  }\r\n};\r\n\r\nexport {computerOutput};","import {useEffect, useState} from 'react';\nimport {useUpdate} from './useUpdate';\n\nexport type RecordsList = {\n  tagIds: number[]\n  note: string\n  category: '+' | '-'\n  amount: number\n  createdAt: string // ISO 8601\n}\ntype newRecordsList = Omit<RecordsList, 'createdAt'> // 不要createdAt\n\nconst useRecords = () => {\n  const [records, setRecords] = useState<RecordsList[]>([]);\n  useEffect(() => {\n    setRecords(JSON.parse(window.localStorage.getItem('records') || '[]'));\n  }, []);\n  useUpdate(() => {\n    window.localStorage.setItem('records', JSON.stringify(records));\n  }, records);\n  const addRecord = (newRecord: newRecordsList) => {\n    if(newRecord.amount<=0 ){\n      alert('请输入金额')\n      return false\n    }\n    if(newRecord.tagIds.length===0){\n      alert('请选择标签')\n      return false\n    }\n    const record = {...newRecord, createdAt: (new Date()).toISOString()};\n    setRecords([...records, record]);\n  };\n  return {records, addRecord};\n};\n\nexport {useRecords};","import Layout from '../components/Layout';\nimport React, {useState} from 'react';\nimport styled from 'styled-components';\nimport {TagsSection} from '../components/Money/TagsSection';\nimport {NoteSection} from '../components/Money/NoteSection';\nimport {CategorySection} from '../components/Money/CategorySection';\nimport {NumberPadSection} from '../components/Money/NumberSection';\nimport {useRecords} from '../hooks/useRecords';\n\nconst CategoryWrapper = styled.div`\n  background:#c4c4c4;\n`;\nconst MyLayout = styled(Layout)`\n  display: flex;\n  flex-direction: column;\n`;\n\ntype Category = '-' | '+'\nconst defaultFormData = {\n  tagIds: [] as number[],\n  note: '',\n  category: '-' as Category,\n  amount: 0\n};\n\nfunction Money() {\n  const [selected, setSelected] = useState(defaultFormData);\n\n  const onChange = (obj: Partial<typeof selected>) => {\n    setSelected({\n      ...selected,\n      ...obj\n    });\n  };\n  const {addRecord} = useRecords();\n  const submit = () => {\n    if(addRecord(selected)){\n      alert('保存成功');\n      setSelected(defaultFormData);\n    }\n\n  };\n  return (\n    <MyLayout scrollTop={9999}>\n      <TagsSection value={selected.tagIds}\n                   onChange={tagIds => onChange({tagIds})}/>\n      <NoteSection value={selected.note}\n                   onChange={note => onChange({note})}/>\n      <CategoryWrapper>\n        <CategorySection value={selected.category}\n                         onChange={category => onChange({category})}/>\n      </CategoryWrapper>\n      <NumberPadSection value={selected.amount}\n                        onChange={amount => onChange({amount})}\n                        onOK={submit}/>\n    </MyLayout>\n  );\n}\n\nexport default Money;","import Layout from '../components/Layout';\r\nimport React, {ReactNode, useState} from 'react';\r\nimport {CategorySection} from '../components/Money/CategorySection';\r\nimport styled from 'styled-components';\r\nimport {RecordsList, useRecords} from '../hooks/useRecords';\r\nimport {useTags} from '../hooks/useTags';\r\nimport day from 'dayjs';\r\n\r\nconst CategoryWrapper = styled.div`\r\n  background:#fff;\r\n`;\r\nconst Item = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 18px;\r\n  line-height: 20px;\r\n  padding: 10px 16px;\r\n  background:white;\r\n  >.note {\r\n    margin-right: auto;\r\n    margin-left: 16px;\r\n    color: #999;\r\n  }\r\n`;\r\nconst Header = styled.h3`\r\n  padding: 10px 16px;\r\n  font-size: 18px;\r\n  font-weight: normal;\r\n`;\r\n\r\nfunction Statistics() {\r\n  const [category, setCategory] = useState<'-' | '+'>('-');\r\n  const {records} = useRecords();\r\n  const {getName} = useTags();\r\n  const hash: { [k: string]: RecordsList[] } = {};\r\n  const selectedRecords = records.filter(r => r.category === category);\r\n\r\n  selectedRecords.forEach(r => {\r\n    const key = day(r.createdAt).format('YYYY年M月D日');\r\n    if (!(key in hash)) {\r\n      hash[key] = [];\r\n    }\r\n    hash[key].push(r);\r\n  });\r\n  const array = Object.entries(hash).sort((a, b) => {\r\n    if (a[0] === b[0]) return 0;\r\n    if (a[0] < b[0]) return 1;\r\n    if (a[0] > b[0]) return -1;\r\n    return 0;\r\n  });\r\n  return (\r\n    <Layout>\r\n      <CategoryWrapper>\r\n        <CategorySection value={category}\r\n                         onChange={value => setCategory(value)}/>\r\n      </CategoryWrapper>\r\n      {array.map(([date, records]) => <div>\r\n        <Header>\r\n          {date}\r\n        </Header>\r\n        <div>\r\n          {records.map(r => {\r\n            return <Item>\r\n              <div className=\"tags oneLine\">\r\n                {r.tagIds\r\n                  .map(tagId => <span key={tagId}>{getName(tagId)}</span>)\r\n                  .reduce((result, span, index, array) =>\r\n                    result.concat(index < array.length - 1 ? [span, '，'] : [span]), [] as ReactNode[])\r\n                }\r\n              </div>\r\n              {r.note && <div className=\"note\">\r\n                {r.note}\r\n              </div>}\r\n              <div className=\"amount\">\r\n                ￥{r.amount}\r\n              </div>\r\n            </Item>;\r\n          })}\r\n        </div>\r\n      </div>)}\r\n\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Statistics;","import styled from \"styled-components\"\r\n\r\nconst Button = styled.button`\r\n  font-size: 18px;\r\n  color: white;\r\n  background:#f60;\r\n  padding: 8px 12px;\r\n  border: none;\r\n  border-radius: 4px;\r\n`;\r\n\r\nexport {Button}","import Layout from '../components/Layout';\r\nimport React from 'react';\r\nimport {useTags} from '../hooks/useTags';\r\nimport styled from 'styled-components';\r\nimport Icon from '../components/Icon';\r\nimport {Link} from 'react-router-dom';\r\nimport {Button} from '../components/Button';\r\n\r\nconst TagList = styled.ol`\r\n  background:white;\r\n  font-size: 16px;\r\n  >li {\r\n    margin-left: 16px;\r\n    border-bottom: 1px solid #d5d5d9;\r\n    line-height: 20px;\r\n    >a {\r\n      display: flex;\r\n      padding: 12px 16px 12px 0;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      >svg {\r\n        width: 24px;\r\n        height: 24px;\r\n    }\r\n    }\r\n  }\r\n`;\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 40px;\r\n`;\r\n\r\nfunction Tags() {\r\n  const {tags,addTag} = useTags();\r\n  return (\r\n    <Layout>\r\n      <TagList>\r\n        {tags.map(tag =>\r\n          <li key={tag.id}>\r\n            <Link to={'/tags/' + tag.id}>\r\n              <span className='oneLine'>{tag.name}</span>\r\n              <Icon name='right'/>\r\n            </Link>\r\n          </li>)}\r\n      </TagList>\r\n      <Center>\r\n        <Button onClick={addTag}>新增标签</Button>\r\n      </Center>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Tags;","import React from \"react\"\r\n\r\nfunction NoMatch() {\r\n  return <h2>404</h2>;\r\n}\r\n\r\nexport default NoMatch","import React from 'react';\r\nimport {useTags} from '../hooks/useTags';\r\nimport {useParams,useHistory} from 'react-router-dom';\r\nimport Layout from '../components/Layout';\r\nimport Icon from '../components/Icon';\r\nimport styled from 'styled-components';\r\nimport {Button} from '../components/Button';\r\nimport {Input} from '../components/Input';\r\n\r\n\r\nconst Header = styled.header`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  background:#fff;\r\n  line-height: 20px;\r\n  padding: 12px;\r\n  >svg {\r\n    width: 24px;\r\n    height: 24px;\r\n  }\r\n`;\r\nconst InputWrapper = styled.div`\r\n  background:#fff;\r\n  margin-top: 16px;\r\n  padding: 0 16px;\r\n`;\r\nconst Center = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-top: 40px;\r\n`;\r\ntype Params = {\r\n  id: string\r\n}\r\nconst TagEdit: React.FC = () => {\r\n  const {findTag, updateTag, deleteTag} = useTags();\r\n  let {id: idString} = useParams<Params>();\r\n  const tag = findTag(parseInt(idString));\r\n  const tagContent = (tag: { id: number, name: string }) => (\r\n    <div>\r\n      <InputWrapper>\r\n        <Input label='标签名' type='text'\r\n               value={tag.name}\r\n               onChange={(e) => {\r\n                 updateTag(tag.id, {name: e.target.value});\r\n               }}/>\r\n      </InputWrapper>\r\n      <Center>\r\n        <Button onClick={() => deleteTag(tag.id)}>删除标签</Button>\r\n      </Center>\r\n    </div>\r\n  );\r\n  const history = useHistory()\r\n  const onClickBack = () => {\r\n    history.goBack()\r\n  };\r\n  return (\r\n    <Layout>\r\n      <Header>\r\n        <Icon name='left' onClick={onClickBack}/>\r\n        <span>编辑标签</span>\r\n        <Icon/>\r\n      </Header>\r\n      {tag ? tagContent(tag) : <div>tag不存在</div>}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport {TagEdit};","import React from 'react';\nimport {HashRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\nimport Money from './views/Money';\nimport Statistics from './views/Statistics';\nimport Tags from './views/Tags';\nimport NoMatch from './views/NoMatch';\nimport {TagEdit} from './views/TagEdit';\n\n\nfunction App() {\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/tags\">\n          <Tags/>\n        </Route>\n        <Route exact path=\"/tags/:id\" >\n          <TagEdit/>\n        </Route>\n        <Route exact path=\"/money\">\n          <Money/>\n        </Route>\n        <Route exact path=\"/statistics\">\n          <Statistics/>\n        </Route>\n        <Redirect exact from=\"/\" to='/money'/>\n        <Route path=\"*\">\n          <NoMatch/>\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.scss'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App/>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}